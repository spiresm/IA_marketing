import fs from 'fs';

// Remplace ceci plus tard par un appel API réel ou OpenAI
const articles = [
  {
    titre: "Nouveauté OpenAI : GPT-5 dévoilé",
    url: "https://example.com/openai-gpt5",
    outil: "ChatGPT",
    categorie: "Innovation",
    date: "2025-05-28",
    resume: "OpenAI dévoile GPT-5 avec des capacités de raisonnement avancé."
  },
  {
    titre: "Midjourney ajoute les vidéos génératives",
    url: "https://example.com/midjourney-video",
    outil: "Midjourney",
    categorie: "Médias",
    date: "2025-05-28",
    resume: "Midjourney permet désormais de générer des vidéos réalistes."
  }
];

const filePath = './veille.html';
let html = fs.readFileSync(filePath, 'utf-8');

// Créer le nouveau contenu JS
const newContent = `const articlesDataOriginal = ${JSON.stringify(articles, null, 2)};`;

// Remplacer la section JavaScript existante
html = html.replace(
  /const articlesDataOriginal = \[[\s\S]*?\];/,
  newContent
);

// Sauvegarder
fs.writeFileSync(filePath, html, 'utf-8');
console.log('✅ veille.html mise à jour avec les nouveaux articles');
