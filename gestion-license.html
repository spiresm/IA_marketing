<!DOCTYPE html>
<html lang="fr">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  Â  <title>Gestion des Licences IA</title>
Â  Â  <style>
Â  Â  Â  Â  /* CSS INTÃ‰GRÃ‰ DIRECTEMENT ICI POUR ASSURER SA PRÃ‰SENCE */

Â  Â  Â  Â  /* Styles du Header et du Menu (fournis par l'utilisateur) */
Â  Â  Â  Â  .header {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  background: #0077b6;
Â  Â  Â  Â  Â  Â  color: white; /* Cette couleur est pour le texte directement dans .header qui n'a pas de style spÃ©cifique */
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  }

Â  Â  Â  Â  .header img.logo-ia {
Â  Â  Â  Â  Â  Â  width: 90px;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .header img.logo-rtbf {
Â  Â  Â  Â  Â  Â  width: 60px;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .header-title {
Â  Â  Â  Â  Â  Â  font-size: 1.6em;
Â  Â  Â  Â  Â  Â  margin: 5px 0;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  color: white; /* Assurez-vous que cette propriÃ©tÃ© est prÃ©sente ici */
Â  Â  Â  Â  }

Â  Â  Â  Â  .nav-wrapper {
Â  Â  Â  Â  Â  Â  background-color: #0077b6;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .menu-container {
Â  Â  Â  Â  Â  Â  max-width: 1200px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  padding: 0 30px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  background-color: transparent;
Â  Â  Â  Â  }

Â  Â  Â  Â  nav {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap; /* Permet aux Ã©lÃ©ments de passer Ã  la ligne */
Â  Â  Â  Â  Â  Â  justify-content: center; /* Centre les Ã©lÃ©ments horizontalement */
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  background-color: transparent;
Â  Â  Â  Â  }

Â  Â  Â  Â  nav a {
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  padding: 8px 12px;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  transition: background 0.3s ease;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  margin: 0 5px; /* Un petit ajustement de marge si le 'gap' ne fonctionne pas bien avec flex-wrap */
Â  Â  Â  Â  Â  Â  white-space: nowrap; /* EmpÃªche le texte des liens de se couper sur plusieurs lignes */
Â  Â  Â  Â  }

Â  Â  Â  Â  nav a:hover {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  nav a.active {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  color: #0077b6;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Style de la bulle de notification */
Â  Â  Â  Â  .notif-bubble {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -6px;
Â  Â  Â  Â  Â  Â  right: -12px;
Â  Â  Â  Â  Â  Â  background: red;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  padding: 2px 6px;
Â  Â  Â  Â  Â  Â  font-size: 12px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  line-height: 12px;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  Â  Â  min-width: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* NOUVEAUX STYLES pour le bouton DEV dans le header */
Â  Â  Â  Â  .dev-button-header {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 10px;
Â  Â  Â  Â  Â  Â  right: 15px;
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  background-color: #005f99;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s ease, transform 0.1s ease;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }

Â  Â  Â  Â  .dev-button-header:hover {
Â  Â  Â  Â  Â  Â  background-color: #0077b6;
Â  Â  Â  Â  Â  Â  transform: translateY(-1px);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Media Queries pour les tablettes et smartphones */
Â  Â  Â  Â  @media (max-width: 1024px) {
Â  Â  Â  Â  Â  Â  .header {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .header img.logo-ia,
Â  Â  Â  Â  Â  Â  .header img.logo-rtbf {
Â  Â  Â  Â  Â  Â  Â  Â  width: 80px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .header-title {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.4em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .dev-button-header {
Â  Â  Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  Â  Â  top: 10px;
Â  Â  Â  Â  Â  Â  Â  Â  right: 15px;
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.75em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  nav {
Â  Â  Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  nav a {
Â  Â  Â  Â  Â  Â  Â  Â  flex-basis: auto;
Â  Â  Â  Â  Â  Â  Â  Â  min-width: unset;
Â  Â  Â  Â  Â  Â  Â  Â  margin: 5px 8px;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 7px 10px;
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.95em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .header {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 8px 0;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .header img.logo-ia {
Â  Â  Â  Â  Â  Â  Â  Â  width: 70px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .header img.logo-rtbf {
Â  Â  Â  Â  Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .header-title {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .dev-button-header {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.7em;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 4px 8px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  nav {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 5px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  nav a {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 6px 8px;
Â  Â  Â  Â  Â  Â  Â  Â  margin: 4px 6px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Styles gÃ©nÃ©raux du corps et du conteneur principal */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  /* Couleurs de fond du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  opacity: 0; /* Garde cet Ã©lÃ©ment pour la transition JS si utilisÃ©e */
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-family: sans-serif; /* Police du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  background-color: #f0f2f5;
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s ease-in;
Â  Â  Â  Â  }
Â  Â  Â  Â  main {
Â  Â  Â  Â  Â  Â  /* Initialement cachÃ©, sera affichÃ© par JS */
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 900px;
Â  Â  Â  Â  Â  Â  margin: 40px auto;
Â  Â  Â  Â  Â  Â  /* Styles du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 14px; /* Rayon de bordure plus prononcÃ© */
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05); /* Ombre plus douce */
Â  Â  Â  Â  Â  Â  padding: 40px 35px; /* Padding similaire */
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  color: #0077b6; /* Couleur de titre du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .titre-description {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â  form {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr 1fr;
Â  Â  Â  Â  Â  Â  gap: 20px; /* Espace plus grand comme dans Demande IA */
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  label {
Â  Â  Â  Â  Â  Â  /* Styles du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  color: #444;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin-bottom: 6px; /* AjustÃ© pour cohÃ©rence avec inputs */
Â  Â  Â  Â  }
Â  Â  Â  Â  select, input {
Â  Â  Â  Â  Â  Â  /* Styles du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 12px 14px; /* Padding plus grand */
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 8px; /* Rayon de bordure plus prononcÃ© */
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  background-color: #f9fafb; /* Couleur de fond plus claire */
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  transition: border-color 0
.3s ease-in-out, box-shadow 0.3s ease-in-out;
Â  Â  Â  Â  }
Â  Â  Â  Â  select.highlight-field {
Â  Â  Â  Â  Â  Â  -webkit-appearance: none;
Â  Â  Â  Â  Â  Â  -moz-appearance: none;
Â  Â  Â  Â  Â  Â  appearance: none;
Â  Â  Â  Â  Â  Â  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292%22%20height%3D%22292%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M283.5%2C197.8L146.7%2C59.9c-4-4.2-10.4-4.2-14.4%2C0L0.5%2C197.8c-4%2C4.2-4%2C11.1%2C0%2C15.3l14.4%2C14.8c4%2C4.2%2C10.4%2C4.2%2C14.4%2C0L146.7%2C98.4c4-4.2%2C10.4-4.2%2C14.4%2C0l117.2%2C129.5c4%2C4.2%2C10.4%2C4.2%2C14.4%2C0l14.4-14.8c4-4.2%2C4-11.1%2C0-15.3z%22%2F%3E%3C%2Fsvg%3E');
Â  Â  Â  Â  Â  Â  background-repeat: no-repeat;
Â  Â  Â  Â  Â  Â  background-position: right 0.7em top 50%, 0 0;
Â  Â  Â  Â  Â  Â  background-size: 0.65em auto, 100%;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Style focus pour les inputs/selects */
Â  Â  Â  Â  select:focus, input:focus {
Â  Â  Â  Â  Â  Â  border-color: #0077b6 !important;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 5px rgba(0, 119, 182, 0.5) !important;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .full {
Â  Â  Â  Â  Â  Â  grid-column: span 2;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }
Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  /* Styles du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  background-color: #0077b6;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 10px 12px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â  button:hover {
Â  Â  Â  Â  Â  Â  background-color: #005f8a;
Â  Â  Â  Â  }
Â  Â  Â  Â  button:disabled {
Â  Â  Â  Â  Â  Â  background-color: #a0a0a0;
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  }
Â  Â  Â  Â  button:disabled:hover {
Â  Â  Â  Â  Â  Â  background-color: #a0a0a0;
Â  Â  Â  Â  }
Â  Â  Â  Â  #subscribeButton {
Â  Â  Â  Â  Â  Â  background-color: #4CAF50; /* Bouton de souscription vert */
Â  Â  Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #subscribeButton:hover {
Â  Â  Â  Â  Â  Â  background-color: #45a049;
Â  Â  Â  Â  }
Â  Â  Â  Â  table {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
Â  Â  Â  Â  }
Â  Â  Â  Â  th, td {
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #eee; /* Lignes plus claires */
Â  Â  Â  Â  }
Â  Â  Â  Â  th {
Â  Â  Â  Â  Â  Â  background-color: #0077b6; /* EntÃªte de tableau bleu du modÃ¨le Demande IA */
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }
Â  Â  Â  Â  tr:nth-child(even) { /* Bandes alternÃ©es pour la lisibilitÃ© */
Â  Â  Â  Â  Â  Â  background-color: #f8f8f8;
Â  Â  Â  Â  }
Â  Â  Â  Â  tr:hover {
Â  Â  Â  Â  Â  Â  background-color: #eef2f5;
Â  Â  Â  Â  }
Â  Â  Â  Â  #totalAchatsContainer {
Â  Â  Â  Â  Â  Â  grid-column: span 2; /* Conserve la mise en page full-width */
Â  Â  Â  Â  Â  Â  text-align: right; /* Conserve l'alignement Ã  droite */
Â  Â  Â  Â  Â  Â  margin-top: 25px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  /* Styles de recap du modÃ¨le Demande IA appliquÃ©s ici */
Â  Â  Â  Â  Â  Â  background-color: rgb(0, 119, 182); /* Couleur de fond du rÃ©capitulatif */
Â  Â  Â  Â  Â  Â  border-radius: 14px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
Â  Â  Â  Â  Â  Â  color: white; /* Texte en blanc pour le rÃ©cap */
Â  Â  Â  Â  }
Â  Â  Â  Â  #totalAchats {
Â  Â  Â  Â  Â  Â  font-size: 2.5em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #ffffff; /* Couleur du total en blanc */
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  Â  Â  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â  #totalAchatsLabel {
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  color: #e0e0e0; /* Couleur du label en gris clair */
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Style pour les totaux par pÃ´le */
Â  Â  Â  Â  #poleTotalsList {
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  color: #e0e0e0; /* Texte en gris clair */
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  text-align: right; /* Aligner le texte de la liste Ã  droite */
Â  Â  Â  Â  }
Â  Â  Â  Â  #poleTotalsList li {
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  Â  Â  padding: 2px 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  #poleTotalsList strong {
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cout-rouge-gras {
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #dc3545; /* Rouge pour le coÃ»t nÃ©gatif ou nul */
Â  Â  Â  Â  }
Â  Â  Â  Â  input[type="text"].cout-input-rouge {
Â  Â  Â  Â  Â  Â  font-weight: bold !important;
Â  Â  Â  Â  Â  Â  color: #dc3545 !important;
Â  Â  Â  Â  Â  Â  border-color: #dc3545 !important;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 5px rgba(220, 53, 69, 0.5) !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .highlight-field {
Â  Â  Â  Â  Â  Â  border-color: #0077b6 !important; /* Couleur de surbrillance du modÃ¨le */
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 5px rgba(0, 119, 182, 0.5) !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .table-link {
Â  Â  Â  Â  Â  Â  color: #0077b6; /* Liens dans le tableau de la couleur principale */
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .table-link:hover {
Â  Â  Â  Â  Â  Â  text-decoration: underline;
Â  Â  Â  Â  }
Â  Â  Â  Â  #footer-signature {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-top: 40px;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  font-size: 0.85em;
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  Â  Â  border-top: 1px solid #eee;
Â  Â  Â  Â  }
Â  Â  Â  Â  #footer-signature strong {
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Style pour le filtre du tableau */
Â  Â  Â  Â  .table-filter-container {
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  Â  Â  padding-right: 10px; /* Pour aligner avec le padding du conteneur */
Â  Â  Â  Â  }
Â  Â  Â  Â  .table-filter-container label {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  margin-right: 10px;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  color: #444;
Â  Â  Â  Â  }
Â  Â  Â  Â  .table-filter-container select {
Â  Â  Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  Â  Â  min-width: 180px;
Â  Â  Â  Â  Â  Â  padding: 8px 12px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  background-color: #f9fafb;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  -webkit-appearance: none;
Â  Â  Â  Â  Â  Â  -moz-appearance: none;
Â  Â  Â  Â  Â  Â  appearance: none;
Â  Â  Â  Â  Â  Â  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292%22%20height%3D%22292%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M283.5%2C197.8L146.7%2C59.9c-4-4.2-10.4-4.2-14.4%2C0L0.5%2C197.8c-4%2C4.2-4%2C11.1%2C0%2C15.3l14.4%2C14.8c4%2C4.2%2C10.4%2C4.2%2C14.4%2C0L146.7%2C98.4c4-4.2%2C10.4-4.2%2C14.4%2C0l117.2%2C129.5c4%2C4.2%2C10.4%2C4.2%2C14.4%2C0l14.4-14.8c4-4.2%2C4-11.1%2C0-15.3z%22%2F%3E%3C%2Fsvg%3E');
Â  Â  Â  Â  Â  Â  background-repeat: no-repeat;
Â  Â  Â  Â  Â  Â  background-position: right 0.7em top 50%, 0 0;
Â  Â  Â  Â  Â  Â  background-size: 0.65em auto, 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Styles pour les messages Toast */
Â  Â  Â  Â  #toast-container {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  bottom: 20px;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .toast-message {
Â  Â  Â  Â  Â  Â  background-color: rgba(51, 51, 51, 0.9);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
Â  Â  Â  Â  Â  Â  transform: translateY(20px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  min-width: 250px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â  .toast-message.show {
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  transform: translateY(0);
Â  Â  Â  Â  }
Â  Â  Â  Â  .toast-message.success {
Â  Â  Â  Â  Â  Â  background-color: rgba(40, 167, 69, 0.9);
Â  Â  Â  Â  }
Â  Â  Â  Â  .toast-message.error {
Â  Â  Â  Â  Â  Â  background-color: rgba(220, 53, 69, 0.9);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Style pour le bouton supprimer dans le tableau (icÃ´ne) */
Â  Â  Â  Â  .btn-supprimer {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  padding: 4px;
Â  Â  Â  Â  Â  Â  color: #dc3545; /* Couleur rouge pour l'icÃ´ne */
Â  Â  Â  Â  Â  Â  transition: transform 0.2s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-supprimer:hover {
Â  Â  Â  Â  Â  Â  transform: scale(1.2);
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="header">
Â  Â  Â  Â  <img src="log_ia.png" alt="Logo IA Marketing" class="logo-ia">
Â  Â  Â  Â  <h1 class="header-title">IA MARKETING</h1> <img src="Section-Clients-Logo-RTBF.png" alt="Logo RTBF" class="logo-rtbf">
Â  Â  Â  Â  <a href="about.html" class="dev-button-header">DEV</a>
Â  Â  </div>

Â  Â  <div class="nav-wrapper">
Â  Â  Â  Â  <div class="menu-container">
Â  Â  Â  Â  Â  Â  <nav>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="index.html">Accueil</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="equipe.html">Ã‰quipe</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="outils.html">Outils IA</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="galerie.html">Galerie</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="Cas-usages.html">Tips</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="veille.html">Veille</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="charte.html">Charte IA</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="faq.html">FAQ</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="demandes_ia.html" class="demandes">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Demandes IA
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="notif-bubble" id="notif-count">0</span>
Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="gestion-license.html" class="active">Licenses</a>
Â  Â  Â  Â  Â  Â  </nav>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <main>
Â  Â  Â  Â  <div class="container">
Â  Â  Â  Â  Â  Â  <h1>Outil de Gestion des Licences IA</h1>
Â  Â  Â  Â  Â  Â  <span class="titre-description"></span>

Â  Â  Â  Â  Â  Â  <form id="licenseForm">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="full">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="pole">PÃ´le :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="pole" required="">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">-- SÃ©lectionner un pÃ´le --</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>PÃ´le crÃ©a.</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>CRM</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Communication</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Partenariats</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Marketing digital</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Positionnement</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Staff</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="collaborateur">Collaborateur :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="collaborateur" required="">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">-- SÃ©lectionner --</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="licence">Licence :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="licence" required="">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">-- SÃ©lectionner --</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Midjourney</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>ChatGPT</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Runway</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Netlify</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>VEO3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Gemini</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>Kling AI</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option>ElevenLabs</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="full">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="description">Description :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="description" readonly="readonly" type="text"/>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="type">Type de licence :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="type" required=""></select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="cout">CoÃ»t (EUR) :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="cout" required="" type="text"/>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="periodeCout">PÃ©riode du coÃ»t :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="periodeCout" required="">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">-- SÃ©lectionner --</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="mois">Par mois</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="annee">Par annÃ©e</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="dateAchat">Date d'achat :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="dateAchat" required="" type="date"/>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="dateRenouvellement">Date de renouvellement :</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="dateRenouvellement" type="text" readonly="readonly"/>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="full">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" id="addButton" disabled>Ajouter</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" id="downloadButton">TÃ©lÃ©charger la liste</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="subscribeButton" type="button" style="display: none;">Souscrire Ã  la Licence</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="totalAchatsContainer">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="totalAchatsLabel">CoÃ»t Annuel EstimÃ© des Licences :</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="totalAchats">0,00 EUR</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul id="poleTotalsList"></ul>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </form>

Â  Â  Â  Â  Â  Â  <div class="table-filter-container">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="tablePoleFilter">Filtrer par PÃ´le :</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="tablePoleFilter">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="all">Tout</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <table id="listeLicences">
Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>PÃ´le</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Collaborateur</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Licence</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Type</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>CoÃ»t</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>PÃ©riode</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Date d'achat</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Date de renouvellement</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Action</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>
Â  Â  </main>

Â  Â  <div id="toast-container"></div>

Â  Â  <div id="footer-signature">
Â  Â  Â  Â  DÃ©veloppÃ© par <strong>Steeve PIRES MADEIRA</strong><br>
Â  Â  Â  Â  ChargÃ©(e) de projets - R&D format â€¢ MÃ©dias - Marketing & Communication
Â  Â  </div>

Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.1/jspdf.plugin.autotable.min.js"></script>

Â  Â  <script>
Â  Â  Â  Â  console.log("Script JavaScript chargÃ© et dÃ©marrÃ©.");

Â  Â  Â  Â  const TAUX_DE_CONVERSION_USD_EUR = 0.93;

Â  Â  Â  Â  const collaborateursParPole = {
Â  Â  Â  Â  Â  Â  "PÃ´le crÃ©a.": [
Â  Â  Â  Â  Â  Â  Â  Â  "Anne-FranÃ§oise LELEUX", "Baptiste TARTAS", "BÃ©atrice MARLIER",
Â  Â  Â  Â  Â  Â  Â  Â  "Boris TEIRLYNCK", "Charlotte DELWARTE", "CÃ©line DELENTREE", "Delphine BENROUBI",
Â  Â  Â  Â  Â  Â  Â  Â  "Faiza BOUMEDIAN", "GeneviÃ¨ve DE BEAUFFORT", "Giovanni CASCONE",
Â  Â  Â  Â  Â  Â  Â  Â  "Gregory KEPPENS", "Isabelle MARCHAL", "Isabelle VERTUONGEN",
Â  Â  Â  Â  Â  Â  Â  Â  "Jimmy DEGRÃˆVE", "Joel VAN HOEF", "Jonathan LACROIX",
Â  Â  Â  Â  Â  Â  Â  Â  "Jose ROJO", "Jose-Luis PENAFUERTE", "Mehdi HUSAIN",
Â  Â  Â  Â  Â  Â  Â  Â  "Michael EVRARD", "Patricia DAVIA", "Pierre LERMIER",
Â  Â  Â  Â  Â  Â  Â  Â  "Pierre-Jean GILOUX", "Steeve PIRES MADEIRA",
Â  Â  Â  Â  Â  Â  Â  Â  "Susana GONCALVES VALERIO",
Â  Â  Â  Â  Â  Â  Â  Â  "Tyan HOOGSTOEL", "Vinciane LE MEN",
Â  Â  Â  Â  Â  Â  Â  Â  "Sabrina LECLERCQ",
Â  Â  Â  Â  Â  Â  Â  Â  "Nathalie AUBRY",
Â  Â  Â  Â  Â  Â  Â  Â  "Jeremy DEHERTOGH",
Â  Â  Â  Â  Â  Â  Â  Â  "Dominique LEFEVRE",
Â  Â  Â  Â  Â  Â  Â  Â  "Virginie LONGE"
Â  Â  Â  Â  Â  Â  ].sort(),

Â  Â  Â  Â  Â  Â  "CRM": [
Â  Â  Â  Â  Â  Â  Â  Â  "FrÃ©dÃ©ric CARTON", "InÃ¨s BERNOUX", "NoÃ©mie ROSSEY",
Â  Â  Â  Â  Â  Â  Â  Â  "Yasmine AIT MASKOUR"
Â  Â  Â  Â  Â  Â  ].sort(),

Â  Â  Â  Â  Â  Â  "Communication": [
Â  Â  Â  Â  Â  Â  Â  Â  "Aurore CRABBE", "Elvis TCHANA", "Fabienne CULLUS",
Â  Â  Â  Â  Â  Â  Â  Â  "Marie NAUWELAERTS", "RÃ©gine CARPENTIER"
Â  Â  Â  Â  Â  Â  ].sort(),

Â  Â  Â  Â  Â  Â  "Partenariats": [
Â  Â  Â  Â  Â  Â  Â  Â  "Alinoe VANHAUDENHUYSE", "Catherine CARA", "Dominique CAFFIERS",
Â  Â  Â  Â  Â  Â  Â  Â  "Fiona KOPEINIG", "Isabelle DELENS",
Â  Â  Â  Â  Â  Â  Â  Â  "Laura DONATELLO", "Marie-Rose ANGE", "NaÃ¯m EL BOHALI",
Â  Â  Â  Â  Â  Â  Â  Â  "Nathalie DE RIJCKE"
Â  Â  Â  Â  Â  Â  ].sort(),

Â  Â  Â  Â  Â  Â  "Marketing digital": [
Â  Â  Â  Â  Â  Â  Â  Â  "Elise FONCK", "GaÃ«lle DEGEYE",
Â  Â  Â  Â  Â  Â  Â  Â  "Mathilde ARMILLAC", "Morgane CARLY", "Yasmine GHAZOUANE",
Â  Â  Â  Â  Â  Â  Â  Â  "Sara GARCIA"
Â  Â  Â  Â  Â  Â  ].sort(),

Â  Â  Â  Â  Â  Â  "Positionnement": [
Â  Â  Â  Â  Â  Â  Â  Â  "Amelie DE LANGE", "Philippe BLANJEAN",
Â  Â  Â  Â  Â  Â  Â  Â  "Samuel LALOUX"
Â  Â  Â  Â  Â  Â  ].sort(),

Â  Â  Â  Â  Â  Â  "Staff": [
Â  Â  Â  Â  Â  Â  Â  Â  "Meltem SIVLIN", "Nadia CURTO", "Vincent CRABBE",
Â  Â  Â  Â  Â  Â  Â  Â  "Olivier LEIDGENS", "Pierre DUBOIS", "Vitold GRAND'HENRY",
Â  Â  Â  Â  Â  Â  Â  Â  "Romain DELECOUR", "Noemie GORISSEN"
Â  Â  Â  Â  Â  Â  ].sort()
Â  Â  Â  Â  };


Â  Â  Â  Â  const typesParOutil = {
Â  Â  Â  Â  Â  Â  "Midjourney": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Basic", "description": "AccÃ¨s limitÃ© aux gÃ©nÃ©rations, usage individuel", "cout_mois": 10, "cout_annee": 96, "url": "https://www.midjourney.com/account"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Standard", "description": "Usage modÃ©rÃ© pour un utilisateur", "cout_mois": 30, "cout_annee": 288, "url": "https://www.midjourney.com/account"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Pro", "description": "Usage illimitÃ©, 1 utilisateur", "cout_mois": 60, "cout_annee": 576, "url": "https://www.midjourney.com/account"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "ChatGPT": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Free", "description": "AccÃ¨s limitÃ© Ã  GPT-3.5, usage individuel", "cout_mois": 0, "cout_annee": 0, "url": "https://openai.com/chatgpt/pricing/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Plus", "description": "AccÃ¨s GPT-4 pour 1 utilisateur", "cout_mois": 20, "cout_annee": 192, "url": "https://openai.com/chatgpt/pricing/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Teams", "description": "Collaboration pour 3 Ã  10 utilisateurs", "cout_mois": 150, "cout_annee": 1440, "url": "https://openai.com/chatgpt/pricing/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Enterprise", "description": "Solution entreprise pour +100 utilisateurs", "cout_mois": 300, "cout_annee": 2880, "url": "https://openai.com/chatgpt/pricing/"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "Runway": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Standard", "description": "FonctionnalitÃ©s de base, 1 utilisateur", "cout_mois": 15, "cout_annee": 144, "url": "https://runwayml.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Pro", "description": "FonctionnalitÃ©s avancÃ©es pour 1-3 utilisateurs", "cout_mois": 35, "cout_annee": 336, "url": "https://runwayml.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Unlimited", "description": "Utilisation illimitÃ©e, jusqu'Ã  5 utilisateurs", "cout_mois": 912/12, "cout_annee": 912, "url": "https://runwayml.com/"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "Netlify": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Free", "description": "Pour dÃ©veloppeurs individuels", "cout_mois": 0, "cout_annee": 0, "url": "https://www.netlify.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Pro", "description": "Projets avancÃ©s, 1 utilisateur", "cout_mois": 19, "cout_annee": 182, "url": "https://www.netlify.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Business", "description": "Collaboration pour Ã©quipes de 5 Ã  10", "cout_mois": 99, "cout_annee": 950, "url": "https://www.netlify.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Enterprise", "description": "Grandes organisations (+25 utilisateurs)", "cout_mois": 300, "cout_annee": 2880, "url": "https://www.netlify.com/"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "VEO3": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "CrÃ©dits gratuits", "description": "CrÃ©dits de base gratuits", "cout_mois": 0, "cout_annee": 0, "url": "https://www.veo3.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Basic", "description": "Plan personnel standard", "cout_mois": 19.99, "cout_annee": 219.90, "url": "https://www.veo3.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Standard", "description": "Plan avancÃ©, plus de crÃ©dits", "cout_mois": 49.99, "cout_annee": 549.90, "url": "https://www.veo3.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Enterprise", "description": "Solution entreprise, personnalisÃ©e", "cout_mois": 71.99, "cout_annee": 863.90, "url": "https://www.veo3.com/"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "Gemini": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Version gratuite", "description": "AccÃ¨s de base Ã  Gemini", "cout_mois": 0, "cout_annee": 0, "url": "https://gemini.google.com/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "AI Pro", "description": "Pour utilisateurs personnels et petites entreprises", "cout_mois": 19.99, "cout_annee": 192, "url": "https://gemini.google.com/advanced"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "AI Ultra", "description": "AccÃ¨s premium complet", "cout_mois": 249.99, "cout_annee": 2749.90, "url": "https://gemini.google.com/ultra"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Cloud Code Assist Std", "description": "Assistance code dans le cloud", "cout_mois": 22.80, "cout_annee": 19, "url": "https://cloud.google.com/code-assist"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "Kling AI": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "CrÃ©dits gratuits", "description": "CrÃ©dits de base pour dÃ©marrer", "cout_mois": 0, "cout_annee": 0, "url": "https://kling.ai/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Pro", "description": "AccÃ¨s Pro avec plus de fonctionnalitÃ©s", "cout_mois": 10, "cout_annee": Math.round(10 * 12 * 0.66), "url": "https://kling.ai/pro"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "AvancÃ©", "description": "Plan avancÃ© avec support prioritaire", "cout_mois": 25, "cout_annee": Math.round(25 * 12 * 0.66), "url": "https://kling.ai/advanced"}
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "ElevenLabs": [
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Gratuit", "description": "10k crÃ©dits, usage limitÃ©", "cout_mois": 0, "cout_annee": 0, "url": "https://elevenlabs.io/"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Starter", "description": "Voix TTS, usage commercial", "cout_mois": 5, "cout_annee": 5 * 12, "url": "https://elevenlabs.io/pricing"},
Â  Â  Â  Â  Â  Â  Â  Â  {"type": "Creator", "description": "Plus de crÃ©dits, fonctionnalitÃ©s avancÃ©es", "cout_mois": 100, "cout_annee": 100 * 12, "url": "https://elevenlabs.io/pricing"}
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  };

Â  Â  Â  Â  const LOCAL_STORAGE_KEY = 'licencesListCharlotte';
Â  Â  Â  Â  let licencesData = [];

Â  Â  Â  Â  function showToast(message, type = 'info') {
Â  Â  Â  Â  Â  Â  const toastContainer = document.getElementById('toast-container');
Â  Â  Â  Â  Â  Â  const toast = document.createElement('div');
Â  Â  Â  Â  Â  Â  toast.className = `toast-message ${type}`;
Â  Â  Â  Â  Â  Â  toast.textContent = message;
Â  Â  Â  Â  Â  Â  toastContainer.appendChild(toast);

Â  Â  Â  Â  Â  Â  void toast.offsetWidth;
Â  Â  Â  Â  Â  Â  toast.classList.add('show');

Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  toast.classList.remove('show');
Â  Â  Â  Â  Â  Â  Â  Â  toast.addEventListener('transitionend', () => toast.remove(), { once: true });
Â  Â  Â  Â  Â  Â  }, 3000);
Â  Â  Â  Â  }

Â  Â  Â  Â  const formatDate = (date) => {
Â  Â  Â  Â  Â  Â  const options = { year: 'numeric', month: 'long', day: 'numeric' };
Â  Â  Â  Â  Â  Â  return date.toLocaleDateString('fr-FR', options);
Â  Â  Â  Â  };

Â  Â  Â  Â  function updateRenewalDate(dateAchatStr, periodeCout) {
Â  Â  Â  Â  Â  Â  const dateRenouvellementInput = document.getElementById('dateRenouvellement');
Â  Â  Â  Â  Â  Â  if (!dateRenouvellementInput) return;

Â  Â  Â  Â  Â  Â  dateRenouvellementInput.value = '';

Â  Â  Â  Â  Â  Â  if (!dateAchatStr) {
Â  Â  Â  Â  Â  Â  Â  Â  dateRenouvellementInput.value = "Date d'achat requise";
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const dateAchat = new Date(dateAchatStr);
Â  Â  Â  Â  Â  Â  if (isNaN(dateAchat.getTime())) {
Â  Â  Â  Â  Â  Â  Â  Â  dateRenouvellementInput.value = "Date d'achat invalide";
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  let renewalDate = new Date(dateAchat);

Â  Â  Â  Â  Â  Â  if (periodeCout === 'mois') {
Â  Â  Â  Â  Â  Â  Â  Â  renewalDate.setMonth(renewalDate.getMonth() + 1);
Â  Â  Â  Â  Â  Â  Â  Â  const currentYear = new Date().getFullYear();
Â  Â  Â  Â  Â  Â  Â  Â  const nextMonthYear = renewalDate.getFullYear();
Â  Â  Â  Â  Â  Â  Â  Â  const yearText = (nextMonthYear === currentYear) ? '' : ` (${nextMonthYear})`;
Â  Â  Â  Â  Â  Â  Â  Â  dateRenouvellementInput.value = `Le mois prochain, le ${renewalDate.getDate()} ${formatDate(renewalDate).split(' ')[1]}${yearText}`;
Â  Â  Â  Â  Â  Â  } else if (periodeCout === 'annee') {
Â  Â  Â  Â  Â  Â  Â  Â  renewalDate.setFullYear(renewalDate.getFullYear() + 1);
Â  Â  Â  Â  Â  Â  Â  Â  dateRenouvellementInput.value = `L'annÃ©e prochaine, le ${formatDate(renewalDate)}`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateCostInput(selectedOption, periodeCout) {
Â  Â  Â  Â  Â  Â  const costInput = document.getElementById('cout');
Â  Â  Â  Â  Â  Â  if (!costInput) return;

Â  Â  Â  Â  Â  Â  let costInUsd = 0;
Â  Â  Â  Â  Â  Â  if (selectedOption && selectedOption.hasAttribute('data-cout-mois')) {
Â  Â  Â  Â  Â  Â  Â  Â  if (periodeCout === 'mois') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  costInUsd = parseFloat(selectedOption.getAttribute('data-cout-mois'));
Â  Â  Â  Â  Â  Â  Â  Â  } else if (periodeCout === 'annee') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  costInUsd = parseFloat(selectedOption.getAttribute('data-cout-annee'));
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  costInput.value = (costInUsd * TAUX_DE_CONVERSION_USD_EUR).toFixed(2).replace('.', ',');

Â  Â  Â  Â  Â  Â  const coutValue = parseFloat(costInput.value.replace(',', '.'));
Â  Â  Â  Â  Â  Â  if (isNaN(coutValue) || coutValue <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  costInput.classList.add('cout-input-rouge');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  costInput.classList.remove('cout-input-rouge');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateCollaborators(pole) {
Â  Â  Â  Â  Â  Â  const collaborateurSelect = document.getElementById('collaborateur');
Â  Â  Â  Â  Â  Â  if (!collaborateurSelect) return;

Â  Â  Â  Â  Â  Â  collaborateurSelect.innerHTML = '<option value="">-- SÃ©lectionner --</option>';

Â  Â  Â  Â  Â  Â  if (pole && collaborateursParPole[pole]) {
Â  Â  Â  Â  Â  Â  Â  Â  collaborateursParPole[pole].sort().forEach(collab => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const option = document.createElement('option');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.value = collab;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.textContent = collab;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  collaborateurSelect.appendChild(option);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateTypes(licence) {
Â  Â  Â  Â  Â  Â  const typeSelect = document.getElementById('type');
Â  Â  Â  Â  Â  Â  const descBox = document.getElementById('description');
Â  Â  Â  Â  Â  Â  const costInput = document.getElementById('cout');
Â  Â  Â  Â  Â  Â  const periodeCoutSelect = document.getElementById('periodeCout');
Â  Â  Â  Â  Â  Â  const dateAchatInput = document.getElementById('dateAchat');

Â  Â  Â  Â  Â  Â  if (!typeSelect || !descBox || !costInput || !periodeCoutSelect || !dateAchatInput) return;

Â  Â  Â  Â  Â  Â  typeSelect.innerHTML = '';
Â  Â  Â  Â  Â  Â  descBox.value = '';
Â  Â  Â  Â  Â  Â  costInput.value = '';
Â  Â  Â  Â  Â  Â  periodeCoutSelect.value = '';

Â  Â  Â  Â  Â  Â  if (typesParOutil[licence]) {
Â  Â  Â  Â  Â  Â  Â  Â  typesParOutil[licence].forEach(obj => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const option = document.createElement('option');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.value = obj.type;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.textContent = obj.type;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.setAttribute('data-description', obj.description);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.setAttribute('data-cout-mois', obj.cout_mois);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.setAttribute('data-cout-annee', obj.cout_annee);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (obj.url) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  option.setAttribute('data-url', obj.url);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  typeSelect.appendChild(option);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  const first = typeSelect.options[0];
Â  Â  Â  Â  Â  Â  Â  Â  if (first) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  typeSelect.value = first.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  descBox.value = first.getAttribute('data-description');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  updateRenewalDate(dateAchatInput.value, periodeCoutSelect.value);
Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  }

Â  Â  Â  Â  function loadLicences() {
Â  Â  Â  Â  Â  Â  const storedData = localStorage.getItem(LOCAL_STORAGE_KEY);
Â  Â  Â  Â  Â  Â  if (storedData) {
Â  Â  Â  Â  Â  Â  Â  Â  licencesData = JSON.parse(storedData);
Â  Â  Â  Â  Â  Â  Â  Â  renderLicencesTable();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function saveLicences() {
Â  Â  Â  Â  Â  Â  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(licencesData));
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderLicencesTable() {
Â  Â  Â  Â  Â  Â  const tableBody = document.querySelector('#listeLicences tbody');
Â  Â  Â  Â  Â  Â  if (!tableBody) return;

Â  Â  Â  Â  Â  Â  tableBody.innerHTML = '';

Â  Â  Â  Â  Â  Â  licencesData.forEach((licence, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const newRow = tableBody.insertRow();
Â  Â  Â  Â  Â  Â  Â  Â  newRow.insertCell().textContent = licence.pole;
Â  Â  Â  Â  Â  Â  Â  Â  newRow.insertCell().textContent = licence.collaborateur;

Â  Â  Â  Â  Â  Â  Â  Â  const licenceCell = newRow.insertCell();
Â  Â  Â  Â  Â  Â  Â  Â  const licenceLink = document.createElement('a');
Â  Â  Â  Â  Â  Â  Â  Â  licenceLink.href = licence.url || '#';
Â  Â  Â  Â  Â  Â  Â  Â  licenceLink.textContent = licence.licence;
Â  Â  Â  Â  Â  Â  Â  Â  licenceLink.target = '_blank';
Â  Â  Â  Â  Â  Â  Â  Â  licenceLink.classList.add('table-link');
Â  Â  Â  Â  Â  Â  Â  Â  licenceCell.appendChild(licenceLink);

Â  Â  Â  Â  Â  Â  Â  Â  newRow.insertCell().textContent = licence.type;

Â  Â  Â  Â  Â  Â  Â  Â  const coutCell = newRow.insertCell();
Â  Â  Â  Â  Â  Â  Â  Â  coutCell.innerHTML = `<span class="cout-rouge-gras">${parseFloat(licence.cout).toFixed(2).replace('.', ',')} EUR</span>`;

Â  Â  Â  Â  Â  Â  Â  Â  newRow.insertCell().textContent = licence.periodeCout === 'mois' ? 'Par mois' : 'Par annÃ©e';
Â  Â  Â  Â  Â  Â  Â  Â  newRow.insertCell().textContent = licence.dateAchat;
Â  Â  Â  Â  Â  Â  Â  Â  newRow.insertCell().textContent = licence.dateRenouvellementAffichee;

Â  Â  Â  Â  Â  Â  Â  Â  const actionCell = newRow.insertCell();
Â  Â  Â  Â  Â  Â  Â  Â  const deleteButton = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  deleteButton.textContent = 'ðŸ—‘ï¸';
Â  Â  Â  Â  Â  Â  Â  Â  deleteButton.title = 'Supprimer';
Â  Â  Â  Â  Â  Â  Â  Â  deleteButton.classList.add('btn-supprimer');
Â  Â  Â  Â  Â  Â  Â  Â  deleteButton.addEventListener('click', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (confirm("ÃŠtes-vous sÃ»r de vouloir supprimer cette licence ?")) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  deleteLicence(index);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showToast('Licence supprimÃ©e avec succÃ¨s !', 'success');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  actionCell.appendChild(deleteButton);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  calculateTotal();
Â  Â  Â  Â  Â  Â  filterTableByPole();
Â  Â  Â  Â  }

Â  Â  Â  Â  function deleteLicence(index) {
Â  Â  Â  Â  Â  Â  licencesData.splice(index, 1);
Â  Â  Â  Â  Â  Â  saveLicences();
Â  Â  Â  Â  Â  Â  renderLicencesTable();
Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  }

Â  Â  Â  Â  function calculateTotal() {
Â  Â  Â  Â  Â  Â  const totalAchatsElement = document.getElementById('totalAchats');
Â  Â  Â  Â  Â  Â  const poleTotalsList = document.getElementById('poleTotalsList');
Â  Â  Â  Â  Â  Â  if (!totalAchatsElement || !poleTotalsList) return;

Â  Â  Â  Â  Â  Â  let totalGlobalCostEUR = 0;
Â  Â  Â  Â  Â  Â  let totauxParPole = {};

Â  Â  Â  Â  Â  Â  licencesData.forEach(licence => {
Â  Â  Â  Â  Â  Â  Â  Â  let cost = parseFloat(licence.cout);
Â  Â  Â  Â  Â  Â  Â  Â  let annualCost = (licence.periodeCout === 'mois') ? cost * 12 : cost;

Â  Â  Â  Â  Â  Â  Â  Â  totalGlobalCostEUR += annualCost;

Â  Â  Â  Â  Â  Â  Â  Â  if (!totauxParPole[licence.pole]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totauxParPole[licence.pole] = 0;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  totauxParPole[licence.pole] += annualCost;
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  totalAchatsElement.textContent = `${totalGlobalCostEUR.toFixed(2).replace('.', ',')} EUR`;

Â  Â  Â  Â  Â  Â  poleTotalsList.innerHTML = '';
Â  Â  Â  Â  Â  Â  const sortedPoles = Object.keys(totauxParPole).sort();
Â  Â  Â  Â  Â  Â  sortedPoles.forEach(pole => {
Â  Â  Â  Â  Â  Â  Â  Â  const listItem = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  listItem.textContent = `${pole}: `;
Â  Â  Â  Â  Â  Â  Â  Â  const span = document.createElement('strong');
Â  Â  Â  Â  Â  Â  Â  Â  span.textContent = `${totauxParPole[pole].toFixed(2).replace('.', ',')} EUR`;
Â  Â  Â  Â  Â  Â  Â  Â  listItem.appendChild(span);
Â  Â  Â  Â  Â  Â  Â  Â  poleTotalsList.appendChild(listItem);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkFormValidity() {
Â  Â  Â  Â  Â  Â  const pole = document.getElementById('pole');
Â  Â  Â  Â  Â  Â  const collaborateur = document.getElementById('collaborateur');
Â  Â  Â  Â  Â  Â  const licence = document.getElementById('licence');
Â  Â  Â  Â  Â  Â  const type = document.getElementById('type');
Â  Â  Â  Â  Â  Â  const cout = document.getElementById('cout');
Â  Â  Â  Â  Â  Â  const periodeCout = document.getElementById('periodeCout');
Â  Â  Â  Â  Â  Â  const dateAchat = document.getElementById('dateAchat');
Â  Â  Â  Â  Â  Â  const addButton = document.getElementById('addButton');
Â  Â  Â  Â  Â  Â  const subscribeButton = document.getElementById('subscribeButton');

Â  Â  Â  Â  Â  Â  if (!pole || !collaborateur || !licence || !type || !cout || !periodeCout || !dateAchat || !addButton || !subscribeButton) {
Â  Â  Â  Â  Â  Â  Â  Â  console.warn("Certains Ã©lÃ©ments du formulaire sont manquants pour la vÃ©rification de validitÃ©.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const coutValue = cout.value.replace(',', '.');
Â  Â  Â  Â  Â  Â  const isCoutValid = !isNaN(parseFloat(coutValue)) && parseFloat(coutValue) > 0;

Â  Â  Â  Â  Â  Â  const isPoleSelected = pole.value !== "" && !pole.options[pole.selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  const isCollaborateurSelected = collaborateur.value !== "" && !collaborateur.options[collaborateur.selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  const isLicenceSelected = licence.value !== "" && !licence.options[licence.selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  const isTypeSelected = type.options.length > 0 && type.value !== "" && !type.options[type.selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  const isPeriodeCoutSelected = periodeCout.value !== "" && !periodeCout.options[periodeCout.selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  const isDateAchatValid = !!dateAchat.value;

Â  Â  Â  Â  Â  Â  const isFormCompletelyValid = isPoleSelected && isCollaborateurSelected && isLicenceSelected && isTypeSelected && isCoutValid && isPeriodeCoutSelected && isDateAchatValid;

Â  Â  Â  Â  Â  Â  if (isFormCompletelyValid) {
Â  Â  Â  Â  Â  Â  Â  Â  addButton.disabled = false;
Â  Â  Â  Â  Â  Â  Â  Â  subscribeButton.style.display = 'inline-block';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  addButton.disabled = true;
Â  Â  Â  Â  Â  Â  Â  Â  subscribeButton.style.display = 'none';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function goToSubscriptionPage() {
Â  Â  Â  Â  Â  Â  const licenceName = document.getElementById('licence').value;
Â  Â  Â  Â  Â  Â  const typeName = document.getElementById('type').value;
Â  Â  Â  Â  Â  Â  const collaborateurName = document.getElementById('collaborateur').value;
Â  Â  Â  Â  Â  Â  const poleName = document.getElementById('pole').value;

Â  Â  Â  Â  Â  Â  let toolUrl = '';
Â  Â  Â  Â  Â  Â  const selectedLicenceData = typesParOutil[licenceName];
Â  Â  Â  Â  Â  Â  if (selectedLicenceData) {
Â  Â  Â  Â  Â  Â  Â  Â  const specificTypeData = selectedLicenceData.find(item => item.type === typeName);
Â  Â  Â  Â  Â  Â  Â  Â  if (specificTypeData && specificTypeData.url) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  toolUrl = specificTypeData.url;
Â  Â  Â  Â  Â  Â  Â  Â  } else if (selectedLicenceData[0] && selectedLicenceData[0].url) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  toolUrl = selectedLicenceData[0].url;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (!toolUrl) {
Â  Â  Â  Â  Â  Â  Â  Â  toolUrl = 'https://example.com/souscription';
Â  Â  Â  Â  Â  Â  Â  Â  console.warn(`URL non trouvÃ©e pour ${licenceName} - ${typeName}. Utilisation d'une URL gÃ©nÃ©rique.`);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const url = `${toolUrl}?type=${encodeURIComponent(typeName)}&collaborateur=${encodeURIComponent(collaborateurName)}&pole=${encodeURIComponent(poleName)}`;

Â  Â  Â  Â  Â  Â  alert(`Redirection vers la page de souscription pour ${licenceName} (${typeName}) pour ${collaborateurName} du pÃ´le ${poleName}...\nURL simulÃ©e: ${url}`);
Â  Â  Â  Â  Â  Â  window.open(url, '_blank');
Â  Â  Â  Â  }

Â  Â  Â  Â  function telecharger() {
Â  Â  Â  Â  Â  Â  const headers = ['PÃ´le', 'Collaborateur', 'Licence', 'Type', 'CoÃ»t', 'PÃ©riode', 'Date d\'achat', 'Date de renouvellement'];
Â  Â  Â  Â  Â  Â  const data = licencesData.map(licence => [
Â  Â  Â  Â  Â  Â  Â  Â  licence.pole,
Â  Â  Â  Â  Â  Â  Â  Â  licence.collaborateur,
Â  Â  Â  Â  Â  Â  Â  Â  licence.licence,
Â  Â  Â  Â  Â  Â  Â  Â  licence.type,
Â  Â  Â  Â  Â  Â  Â  Â  `${parseFloat(licence.cout).toFixed(2).replace('.', ',')} EUR`,
Â  Â  Â  Â  Â  Â  Â  Â  licence.periodeCout === 'mois' ? 'Par mois' : 'Par annÃ©e',
Â  Â  Â  Â  Â  Â  Â  Â  licence.dateAchat,
Â  Â  Â  Â  Â  Â  Â  Â  licence.dateRenouvellementAffichee
Â  Â  Â  Â  Â  Â  ]);

Â  Â  Â  Â  Â  Â  const { jsPDF } = window.jspdf;
Â  Â  Â  Â  Â  Â  const doc = new jsPDF('p', 'mm', 'A4');

Â  Â  Â  Â  Â  Â  doc.setFontSize(18);
Â  Â  Â  Â  Â  Â  doc.text("Liste des Licences IA - Charlotte DELWARTE", 14, 22);
Â  Â  Â  Â  Â  Â  doc.setFontSize(11);
Â  Â  Â  Â  Â  Â  doc.setTextColor(100);
Â  Â  Â  Â  Â  Â  doc.text(`GÃ©nÃ©rÃ© le ${new Date().toLocaleDateString('fr-FR')} Ã  ${new Date().toLocaleTimeString('fr-FR')}`, 14, 30);


Â  Â  Â  Â  Â  Â  doc.autoTable({
Â  Â  Â  Â  Â  Â  Â  Â  startY: 40,
Â  Â  Â  Â  Â  Â  Â  Â  head: [headers],
Â  Â  Â  Â  Â  Â  Â  Â  body: data,
Â  Â  Â  Â  Â  Â  Â  Â  theme: 'striped',
Â  Â  Â  Â  Â  Â  Â  Â  headStyles: { fillColor: [0, 119, 182] },
Â  Â  Â  Â  Â  Â  Â  Â  styles: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  font: 'helvetica',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fontSize: 9,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cellPadding: 3,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  valign: 'middle',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overflow: 'linebreak'
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  columnStyles: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  0: { cellWidth: 20 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1: { cellWidth: 30 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2: { cellWidth: 25 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3: { cellWidth: 25 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4: { cellWidth: 20, halign: 'right' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  5: { cellWidth: 20 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  6: { cellWidth: 25 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  7: { cellWidth: 30 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  8: { cellWidth: 15 }
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  didParseCell: function(data) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (data.column.index === 4 && data.cell.section === 'body') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.cell.styles.fontStyle = 'bold';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.cell.styles.textColor = [220, 53, 69];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  doc.save('liste_licences_ia.pdf');
Â  Â  Â  Â  Â  Â  console.log('PDF gÃ©nÃ©rÃ© et tÃ©lÃ©chargÃ©.');
Â  Â  Â  Â  }

Â  Â  Â  Â  function filterTableByPole() {
Â  Â  Â  Â  Â  Â  const filterValue = document.getElementById('tablePoleFilter').value;
Â  Â  Â  Â  Â  Â  const tableRows = document.querySelectorAll('#listeLicences tbody tr');

Â  Â  Â  Â  Â  Â  tableRows.forEach(row => {
Â  Â  Â  Â  Â  Â  Â  Â  const poleCell = row.cells[0];
Â  Â  Â  Â  Â  Â  Â  Â  if (filterValue === 'all' || poleCell.textContent === filterValue) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.style.display = '';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }


Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', function() {
Â  Â  Â  Â  Â  Â  console.log("DOM entiÃ¨rement chargÃ©. DÃ©but de l'initialisation des Ã©couteurs d'Ã©vÃ©nements...");

Â  Â  Â  Â  Â  Â  const poleSelect = document.getElementById('pole');
Â  Â  Â  Â  Â  Â  const collaborateurSelect = document.getElementById('collaborateur');
Â  Â  Â  Â  Â  Â  const licenceSelect = document.getElementById('licence');
Â  Â  Â  Â  Â  Â  const typeSelect = document.getElementById('type');
Â  Â  Â  Â  Â  Â  const periodeCoutSelect = document.getElementById('periodeCout');
Â  Â  Â  Â  Â  Â  const dateAchatInput = document.getElementById('dateAchat');
Â  Â  Â  Â  Â  Â  const coutInput = document.getElementById('cout');
Â  Â  Â  Â  Â  Â  const licenseForm = document.getElementById('licenseForm');
Â  Â  Â  Â  Â  Â  const downloadButton = document.getElementById('downloadButton');
Â  Â  Â  Â  Â  Â  const subscribeButton = document.getElementById('subscribeButton');
Â  Â  Â  Â  Â  Â  const addButton = document.getElementById('addButton');
Â  Â  Â  Â  Â  Â  const tablePoleFilter = document.getElementById('tablePoleFilter');

Â  Â  Â  Â  Â  Â  // Mise Ã  jour : le main est affichÃ© une fois que le DOM est prÃªt
Â  Â  Â  Â  Â  Â  document.body.style.opacity = "1";
Â  Â  Â  Â  Â  Â  const mainElement = document.querySelector("main");
Â  Â  Â  Â  Â  Â  if (mainElement) {
Â  Â  Â  Â  Â  Â  Â  Â  mainElement.style.display = "block";
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Gestion de la classe 'active' pour le menu
Â  Â  Â  Â  Â  Â  const currentPath = window.location.pathname.split('/').pop();
Â  Â  Â  Â  Â  Â  document.querySelectorAll('nav a').forEach(link => {
Â  Â  Â  Â  Â  Â  Â  Â  // Pour les liens qui contiennent un span (comme "Demandes IA"), le href est sur le <a> parent
Â  Â  Â  Â  Â  Â  Â  Â  const linkHref = link.getAttribute('href');
Â  Â  Â  Â  Â  Â  Â  Â  if (linkHref && linkHref.includes(currentPath)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  if (addButton) {
Â  Â  Â  Â  Â  Â  Â  Â  addButton.disabled = true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erreur: Ã‰lÃ©ment #addButton non trouvÃ©!');
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (poleSelect) {
Â  Â  Â  Â  Â  Â  Â  Â  poleSelect.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: PÃ´le changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateCollaborators(this.value);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur pÃ´le attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #pole non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (collaborateurSelect) {
Â  Â  Â  Â  Â  Â  Â  Â  collaborateurSelect.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Collaborateur changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur collaborateur attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #collaborateur non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (licenceSelect) {
Â  Â  Â  Â  Â  Â  Â  Â  licenceSelect.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Licence changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateTypes(this.value);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur licence attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #licence non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (typeSelect) {
Â  Â  Â  Â  Â  Â  Â  Â  typeSelect.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Type changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const selected = this.selectedOptions[0];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const periodeCout = periodeCoutSelect.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (selected) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('description').value = selected.getAttribute('data-description');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateCostInput(selected, periodeCout);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateRenewalDate(dateAchatInput.value, periodeCout);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur type attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #type non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (periodeCoutSelect) {
Â  Â  Â  Â  Â  Â  Â  Â  periodeCoutSelect.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: PeriodeCout changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const selectedTypeOption = typeSelect.options.length > 0 ? typeSelect.selectedOptions[0] : null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const currentPeriod = this.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateCostInput(selectedTypeOption, currentPeriod);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateRenewalDate(dateAchatInput.value, currentPeriod);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur periodeCout attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #periodeCout non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (dateAchatInput) {
Â  Â  Â  Â  Â  Â  Â  Â  dateAchatInput.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: DateAchat changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const periodeCout = periodeCoutSelect.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateRenewalDate(this.value, periodeCout);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur dateAchat attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #dateAchat non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (coutInput) {
Â  Â  Â  Â  Â  Â  Â  Â  coutInput.addEventListener('input', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Cout input');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const coutValue = parseFloat(this.value.replace(',', '.'));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isNaN(coutValue) || coutValue <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.classList.add('cout-input-rouge');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.classList.remove('cout-input-rouge');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  coutInput.addEventListener('change', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Cout changed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const coutValue = parseFloat(this.value.replace(',', '.'));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isNaN(coutValue) || coutValue <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.classList.add('cout-input-rouge');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.classList.remove('cout-input-rouge');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur cout (input/change) attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #cout non trouvÃ©!'); }


Â  Â  Â  Â  Â  Â  if (licenseForm) {
Â  Â  Â  Â  Â  Â  Â  Â  licenseForm.addEventListener('submit', function(event) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Form submitted (Ajouter button clicked)');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  event.preventDefault();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const pole = document.getElementById('pole').value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const collaborateur = document.getElementById('collaborateur').value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const licence = document.getElementById('licence').value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const type = document.getElementById('type').value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let coutValue = document.getElementById('cout').value.replace(',', '.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cout = parseFloat(coutValue);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const periodeCout = document.getElementById('periodeCout').value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dateAchat = document.getElementById('dateAchat').value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dateRenouvellementAffichee = document.getElementById('dateRenouvellement').value;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('--- VÃ©rification des valeurs du formulaire pour Ajout ---');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  PÃ´le:', pole, ' (Valid:', !!pole, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  Collaborateur:', collaborateur, ' (Valid:', !!collaborateur, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  Licence:', licence, ' (Valid:', !!licence, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  Type:', type, ' (Valid:', !!type, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  CoÃ»t (parsed):', cout, ' (Valid: ', !isNaN(cout) && cout > 0, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  PÃ©riode CoÃ»t:', periodeCout, ' (Valid:', !!periodeCout, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  Date Achat:', dateAchat, ' (Valid:', !!dateAchat, ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Â  Date Renouvellement Affichee:', dateRenouvellementAffichee);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('----------------------------------------------------');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isPoleSelected = pole !== "" && !document.getElementById('pole').options[document.getElementById('pole').selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isCollaborateurSelected = collaborateur !== "" && !document.getElementById('collaborateur').options[document.getElementById('collaborateur').selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isLicenceSelected = licence !== "" && !document.getElementById('licence').options[document.getElementById('licence').selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isTypeSelected = type !== "" && document.getElementById('type').options.length > 0 && !document.getElementById('type').options[document.getElementById('type').selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isPeriodeCoutSelected = periodeCout !== "" && !document.getElementById('periodeCout').options[document.getElementById('periodeCout').selectedIndex].textContent.startsWith('-- SÃ©lectionner');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isCoutValid = !isNaN(cout) && cout > 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isDateAchatValid = !!dateAchat;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isValid = isPoleSelected && isCollaborateurSelected && isLicenceSelected && isTypeSelected && isCoutValid && isPeriodeCoutSelected && isDateAchatValid;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isValid) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Condition de validitÃ© remplie. Ajout de la licence...');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newLicence = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pole,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  collaborateur,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  licence,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cout,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  periodeCout,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dateAchat,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dateRenouvellementAffichee,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url: typesParOutil[licence]?.find(item => item.type === type)?.url || typesParOutil[licence]?.[0]?.url || '#'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  licencesData.push(newLicence);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  saveLicences();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderLicencesTable();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showToast('Licence ajoutÃ©e avec succÃ¨s !', 'success');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('pole').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('collaborateur').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('licence').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('type').innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('description').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cout').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('periodeCout').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('dateAchat').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('dateRenouvellement').value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateTypes('');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateCollaborators('');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn('Condition de validitÃ© NON remplie. Affichage de l\'alerte.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showToast("Veuillez remplir tous les champs obligatoires (PÃ´le, Collaborateur, Licence, Type, CoÃ»t, PÃ©riode du coÃ»t, Date d'achat). Assurez-vous que le coÃ»t est un nombre valide et non nÃ©gatif.", 'error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  checkFormValidity();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur formulaire submit (Ajouter) attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #licenseForm non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (downloadButton) {
Â  Â  Â  Â  Â  Â  Â  Â  downloadButton.addEventListener('click', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: TÃ©lÃ©charger la liste button clicked');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  telecharger();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur downloadButton attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #downloadButton non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  if (subscribeButton) {
Â  Â  Â  Â  Â  Â  Â  Â  subscribeButton.addEventListener('click', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰vÃ©nement: Souscrire Ã  la Licence button clicked');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  goToSubscriptionPage();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur subscribeButton attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #subscribeButton non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  loadLicences();
Â  Â  Â  Â  Â  Â  updateCollaborators(poleSelect.value || '');
Â  Â  Â  Â  Â  Â  if (licenceSelect) {
Â  Â  Â  Â  Â  Â  Â  Â  updateTypes(licenceSelect.value || '');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  checkFormValidity();

Â  Â  Â  Â  Â  Â  if (tablePoleFilter) {
Â  Â  Â  Â  Â  Â  Â  Â  tablePoleFilter.addEventListener('change', filterTableByPole);
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Ã‰couteur tablePoleFilter attachÃ©.');
Â  Â  Â  Â  Â  Â  } else { console.error('Erreur: Ã‰lÃ©ment #tablePoleFilter non trouvÃ©!'); }

Â  Â  Â  Â  Â  Â  const availablePoles = Object.keys(collaborateursParPole).sort();
Â  Â  Â  Â  Â  Â  tablePoleFilter.innerHTML = '<option value="all">Tout</option>';
Â  Â  Â  Â  Â  Â  availablePoles.forEach(pole => {
Â  Â  Â  Â  Â  Â  Â  Â  const option = document.createElement('option');
Â  Â  Â  Â  Â  Â  Â  Â  option.value = pole;
Â  Â  Â  Â  Â  Â  Â  Â  option.textContent = pole;
Â  Â  Â  Â  Â  Â  Â  Â  tablePoleFilter.appendChild(option);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  filterTableByPole();
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
